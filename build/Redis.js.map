{"version":3,"sources":["../src/Redis.js"],"names":["Redis","opts","key","value","snappy","compressSync","buffer","setBuffer","Promise","resolve","reject","getBuffer","uncompressSync","asBuffer","IORedis"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;;;IAEMA,K;;;AACF,mBAAYC,IAAZ,EAAkB;AAAA;;AAAA,6GACRA,IADQ;AAEjB;;;;;gGAEiBC,G,EAAKC,K;;;;;;;uCACAC,iBAAOC,YAAP,CAAoBF,KAApB,C;;;AAAfG,sC;iEACG,KAAKC,SAAL,CAAeL,GAAf,EAAoBI,MAApB,C;;;;;;;;;;;;;;;;;;oCAGCJ,G,EAAI;AAAA;;AACZ,mBAAO,IAAIM,OAAJ;AAAA,oFAAY,kBAAOC,OAAP,EAAgBC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEQ,OAAKC,SAAL,CAAeT,GAAf,CAFR;;AAAA;AAEPI,0CAFO;AAAA,mDAGXG,OAHW;AAAA;AAAA,2CAGGL,iBAAOQ,cAAP,CAAsBN,MAAtB,EAA8B,EAAEO,UAAU,KAAZ,EAA9B,CAHH;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAMXH;;AANW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAZ;;AAAA;AAAA;AAAA;AAAA,gBAAP;AASH;;;;EApBeI,iB;;kBAuBLd,K","file":"Redis.js","sourcesContent":["import IORedis from \"ioredis\";\r\nimport snappy from \"snappy\";\r\n\r\nclass Redis extends IORedis{\r\n    constructor(opts) {\r\n        super(opts);\r\n    }\r\n\r\n    async setCompress(key, value){\r\n        let buffer = await snappy.compressSync(value);\r\n        return this.setBuffer(key, buffer);\r\n    }\r\n\r\n    getCompress(key){\r\n        return new Promise(async (resolve, reject) => {\r\n            try{\r\n                let buffer = await this.getBuffer(key);\r\n                resolve(await snappy.uncompressSync(buffer, { asBuffer: false }));\r\n            }\r\n            catch(err){\r\n                reject(err);\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default Redis;"]}